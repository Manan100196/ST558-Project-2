---
title: "ST558_Project2_Group_2H"
output: github_document
author: "Manan Shah, Xi Yang"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(jsonlite)
library(httr)
```

```{r}
Tickers <- function(type = "CS",market = "stocks",sort = "ticker", order = "asc", limit = 50){
  
  base <- "https://api.polygon.io/v3/reference/tickers?type="
  type <- type
  market <- market
  sort <- sort
  order <- order
  limit <- limit
  
  url <- paste(base, type, "&market=", market, "&active=true&sort=", sort, "&order=", order, "&limit=", "&apiKey=OSOTVVjvsUEE8FFAyyX0n3XnWMpFdZv7")
  
  data <- GET("https://api.polygon.io/v3/reference/tickers?type=CS&market=stocks&active=true&sort=ticker&order=asc&limit=10&apiKey=OSOTVVjvsUEE8FFAyyX0n3XnWMpFdZv7")

  parsed <- fromJSON(rawToChar(data$content))
  
  return(as_tibble(parsed$results))
}
Tickers()
```


```{r}
rmarkdown::render(input = "ST558_Project2_Group_2H.Rmd", output_file = "ST558_Group_2H.md")
```
